WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'jira.webresources:license-banner-resource', location = '/includes/jira/license/license-banner.js' */
define("jira/license-banner",["jira/util/logger","jira/analytics","jquery","underscore","jira/flag","aui/banner","wrm/context-path"],(function(n,e,a,i,t,r,c){"use strict";var l=c(),o=function(n,a,t){var r=t.find("div[data-days]").attr("data-days"),c="jira.expiry-notification."+("false"===t.find("[data-subscription]").attr("data-subscription")?"maintenance":"subscription")+"."+a+"."+n;e.send({name:c,data:i.omit({days_pre_expiry:r},i.isEmpty)})},s=function(e,i){return function(){t="remindlater",r="license-later-done",a.ajax({type:"POST",url:l+"/rest/internal/1.0/licensebanner/"+t,contentType:"application/json"}).always((function(){n.trace(r)}));var t,r;o("close",e,i)}},f=function(n,e){e.find("[data-action]").on("click",(function(){o("click."+a(this).attr("data-action"),n,e)}))};return{showLicenseFlag:function(e){if(e&&e.length){var r=t.showWarningMsg(null,e);if(r){var c=a(r),l=i.once(s("flag",c));c.on("aui-flag-close",l);a("#license-flag-later").click((function(n){n.preventDefault();c[0].close();l()}));o("show","flag",c);f("flag",c)}}n.trace("license-flag-checked")},showLicenseBanner:function(e){if(e&&e.length){var t=a(r({body:e})),c=i.once(s("banner",t));a("#license-banner-later").click((function(n){n.preventDefault();(e=t).slideUp((function(){e.remove()}));var e;c()}));o("show","banner",t);f("banner",t)}n.trace("license-banner-checked")}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:license-banner-resource', location = '/includes/jira/license/display-license-banner.js' */
require(["jira/license-banner","wrm/context-path"],(function(n,e){"use strict";var r=e();fetch(r+"/rest/internal/1.0/licensebanner/markup").then((function(n){return n.json()})).then((function(e){n.showLicenseBanner(e.bannerMarkup);n.showLicenseFlag(e.flagMarkup)})).catch((function(n){return console.error("There was an error during the fetching of licence markups.",n)}))}));
}catch(e){WRMCB(e)};